{% extends "base.html" %}
{% load static %}

{% block content %}
{% if user.is_authenticated %}
    <div class="container mt-5">
        <h2>Generate 3D Model Prompt</h2>

        <form id="promptForm">
            {% csrf_token %}
            <input type="text" id="userInput" class="form-control" placeholder="생성하고 싶은 모델을 설명해주세요." maxlength="500">  {# maxlength 추가 #}
            <button id="submitBtn" class="btn btn-dark mt-3">Generate</button>
        </form>
        
        <div id="output" class="mt-4"></div>
        <div id="loading" class="mt-3" style="display:none;">loading...</div>  {# 로딩 표시 #}
        <div id="error" class="mt-3 text-danger" style="display:none;"></div> {# 오류 표시 #}
    </div>

    
    {% else %}
    <div class="container mt-5">
        <h2>Login required</h2>
        <p>Please <a href="{% url 'users:login' %}">log in</a> to use this page.</p>
    </div>
    {% endif %}
<script src="{% static 'prompt_js/prompt.js' %}"></script>
{% endblock %}